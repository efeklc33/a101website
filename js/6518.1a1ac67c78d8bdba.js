"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6518],{95178:function(e,t,n){n.d(t,{Z:function(){return k}});var a=n(7916),i=n(20406),s=n(28526),l=n.n(s),r=n(63602),o=n(50154),c=n(2784),d=n(19945),u=n(45066),p=n(59748),b=n(45882),m=n(68557),x=n(37175),f=n(37226),h=n(24511),v=n(52322),g=h.Ry().shape({email:h.Z_().trim().email("E-posta adresini kontrol etmelisin.").max(254,"En fazla 254 harf girebilirsin.").matches(/^[A-Z0-9a-z._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,64}$/i,"E-posta adresini kontrol etmelisin.").required("E-posta adresini kontrol etmelisin."),permissions:h.Ry({a101electronicMessage:h.O7().oneOf([!0])})}),j=function(e){var t=(0,c.useState)(),n=t[0],a=t[1],s=(0,d.b)().getAgreement,h=(0,o.Dv)(d.a),j=(0,o.b9)(d.a);(0,c.useEffect)((function(){if(h){var e=h.title,t=h.content;a({html:t,title:e}),j(null)}}),[h]);var k=function(e){s({agreementType:e})},w=function(){var t=(0,i.Z)(l().mark((function t(n){var a;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.email=null===(a=n.email)||void 0===a?void 0:a.split("T")[0],e.handleSave(n.email);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){e.onClose(),a(null)};return(0,v.jsx)(r.J9,{validationSchema:g,initialValues:{email:"",permissions:{a101electronicMessage:!1}},validateOnMount:!0,onSubmit:w,children:function(e){var t=e.isValid,i=e.handleSubmit;return(0,v.jsxs)("form",{autoComplete:"off",className:"space-y-5 tablet:space-y-8 py-4",onSubmit:i,children:[(0,v.jsx)("div",{className:"flex m-auto items-center justify-center w-[250px] h-[120px]",children:(0,v.jsx)(u.a,{src:"/svg/afisler.jpg",alt:"image-banners",objectFit:"contain",height:"100%",externalClass:"h-full",children:" "})}),(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("h2",{children:"Afi\u015flere Abone Ol"}),(0,v.jsx)("p",{children:"Afi\u015fleri g\xfcn\xfcnde mail atal\u0131m, f\u0131rsatlar\u0131 ka\xe7\u0131rma!"})]}),(0,v.jsx)(p.a,{name:"email",label:"E-Posta"}),(0,v.jsx)("div",{className:"flex flex-col gap-2 laptop:gap-4 pb-2",children:(0,v.jsxs)("div",{className:"flex",children:[(0,v.jsx)(b.a,{name:"permissions.a101electronicMessage",label:""}),(0,v.jsxs)("div",{className:"text-sm",children:["A101'in ticari elektronik ileti g\xf6ndermesini",(0,v.jsx)(m.i,{onClick:function(){return k("explicitConsentSubscribe")},type:"getCommercialElectronicMessageAgreement",children:(0,v.jsx)("span",{className:"text-brand-blue-primary",children:" Onay Metni "})})," ","kapsam\u0131nda kabul ediyorum."]})]})}),(0,v.jsxs)("div",{className:"bg-gradient-to-brand-blue-primary from-white/30 to-white right-4 left-4  flex items-center justify-between text-white gap-2 !mt-[24px]",children:[(0,v.jsx)(x.a,{variant:"secondary",onClick:function(){return y()},children:"Vazge\xe7"}),(0,v.jsx)(x.a,{variant:"default",disabled:!t,type:"submit",style:t?{backgroundColor:"#00BAD3"}:{backgroundColor:"#E5E7E9"},children:"Onayla"})]}),(0,v.jsxs)("div",{className:"text-sm !mt-[16px]",children:["Abonelik kapsam\u0131nda ki\u015fisel veri i\u015fleme faaliyetleri hakk\u0131ndaki",(0,v.jsx)(m.i,{onClick:function(){return k("clarificationSubscribe")},type:"getCommercialElectronicMessageAgreement",children:(0,v.jsx)("span",{className:"text-brand-blue-primary",children:" Ayd\u0131nlatma Metni\u2019ni"})})," ","inceleyebilirsin."]}),(0,v.jsx)("div",{className:"h-[1px] bg-brand-gray-border absolute -top-8 right-0 left-0"}),n&&(0,v.jsx)(f.a,{setContract:a,contract:n,onClose:y})]})}})},k=function(e){return(0,v.jsx)(a.a,{size:"normal",backVisible:!1,closeVisible:!0,title:"",titleUnderline:!1,visible:e.visible,setVisible:e.setVisible,children:(0,v.jsx)(j,{handleSave:e.handleSave,onClose:function(){return e.setVisible(!1)}})})}},66518:function(e,t,n){n.r(t);var a=n(8529),i=n(50154),s=(n(2784),n(44315)),l=n(19945),r=n(85800),o=n(66790),c=n(45066),d=n(75914),u=n(37175),p=n(28734),b=n(78565),m=n(95178),x=n(52322);t.default=function(e){var t,n,f,h,v,g,j,k=e.subscribe,w=(0,s.a)().SubscribeButtonIcon,y=(0,b.P)().postBannersSubscription,C=(0,i.b9)(l.a),N=(0,i.KO)(p.pw),S=(0,a.Z)(N,2),A=S[0],O=S[1];return(0,x.jsxs)("div",{className:"mt-4",children:[(0,x.jsx)(r.a,{children:(0,x.jsx)(o.a,{children:(null===k||void 0===k?void 0:k.id)&&(0,x.jsxs)("div",{className:"flex items-center justify-between relative bg-white border border-brand-gray-border rounded-3xl py-3 mobile:px-[16px] tablet:px-[16px] laptop:px-[24px] desktop:px-[16px]",style:{backgroundColor:null!==(t=k.bgColor)&&void 0!==t?t:"#ffffff"},children:[(0,x.jsx)("div",{className:"mobile:w-0 tablet:w-1/3 laptop:w-1/3 desktop:w-1/4 mobile:invisible tablet:visible laptop:visible desktop:visible overflow-hidden",children:(0,x.jsx)("div",{className:"absolute bottom-0 tablet:left-[24px] laptop:left-[44px] desktop:left-[44px]",children:(0,x.jsx)(c.a,{src:(0,c.c)(null!==(n=k.imageUrl)&&void 0!==n?n:"/dummy/subscribe/subscribe_image.png",{width:200}),alt:k.displayName||(0,d.t)(k.imageUrl||"")||"",objectFit:"cover",externalClass:"max-h-[100px] max-w-[200px]",imageSize:"desktop:w-[200px] desktop:h-[50px] laptop:w-[200px] laptop:h-[50px] tablet:w-[200px] tablet:h-[50px] mobile:w-[200px] mobile:h-[50px] "})})}),(0,x.jsx)("div",{className:"mobile:w-3/5 tablet:w-1/3 laptop:w-1/3 desktop:w-2/4 mobile:text-left tablet:text-center laptop:text-center desktop:text-center",children:(0,x.jsx)("span",{className:"mobile:text-sm tablet:text-base font-medium",style:{color:null!==(f=k.textColor)&&void 0!==f?f:"#ffffff"},children:null!==(h=k.displayName)&&void 0!==h?h:"Sana \xf6zel indirim ve f\u0131rsatlardan yararlanmak i\xe7in Afi\u015flere Abone Ol."})}),(0,x.jsx)("div",{className:"mobile:w-2/5 tablet:w-1/3 laptop:w-1/3 desktop:w-1/4 flex justify-end",style:{},children:(0,x.jsx)("div",{className:"inline-flex text-right mobile:w-[111px] tablet:w-[162px] laptop:w-[162px] desktop:w-[162px]",children:(0,x.jsx)(u.a,{size:"md",style:{backgroundColor:null!==(v=k.buttonColor)&&void 0!==v?v:"inherit"},children:(0,x.jsxs)("div",{className:"flex items-center justify-center gap-[4px] px-[10px]",style:{color:null!==(g=k.buttonTextColor)&&void 0!==g?g:"inherit"},onClick:function(){C(null),O(!0)},children:[(0,x.jsx)(w,{}),(0,x.jsx)("span",{className:"mobile:text-xs tablet:text-base laptop:text-base desktop:text-base whitespace-nowrap",children:null!==(j=k.buttonText)&&void 0!==j?j:"Abone Ol"})]})})})})]})})}),A&&(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(m.Z,{visible:A,setVisible:O,handleSave:function(e){y({email:e})}})})]})}},28734:function(e,t,n){n.d(t,{NO:function(){return s},fx:function(){return i},pw:function(){return l}});var a=n(50154),i=(0,a.cn)(null),s=(0,a.cn)(null),l=(0,a.cn)(!1)},78565:function(e,t,n){n.d(t,{P:function(){return x}});var a=n(20406),i=n(28526),s=n.n(i),l=n(50154),r=n(2784),o=n(75914),c=n(11846),d=n(64270),u=n(51073),p=n(8711),b=n(28734),m=n(93542);function x(){var e=(0,o.m)(),t=e.addLoadingKey,n=e.removeLoadingKey,i=(0,l.b9)(b.fx),x=(0,l.b9)(b.NO),f=(0,l.b9)(c.a),h=(0,l.b9)(b.pw),v=(0,d.f)(),g=v.personaProfile,j=v.personaPage,k=v.personaSubscription,w=v.personaSegment,y=(0,o.d)(u.a),C=function(){var e=(0,a.Z)(s().mark((function e(){var a,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t("getDashboardPage"),e.next=3,p.c.getCloudObject({classId:"ContentManager",instanceId:"default",useLocal:!0});case 3:return a=e.sent,e.next=6,(0,p.d)(a,"getDashboard",{},"get",{});case 6:l=e.sent,n("getDashboardPage"),i(l);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=(0,a.Z)(s().mark((function e(){var a,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t("getWebDashboard"),e.next=3,p.c.getCloudObject({classId:"ContentManager",instanceId:"default",useLocal:!0});case 3:return a=e.sent,e.next=6,(0,p.d)(a,"getWebDashboard",{},"get",{});case 6:l=e.sent,n("getWebDashboard"),l&&i(l.items);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=(0,a.Z)(s().mark((function e(a){var i,l,r,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t("subscribe"),e.next=3,p.c.getCloudObject({classId:"User",instanceId:"STATIC",useLocal:!0});case 3:return i=e.sent,e.next=6,(0,p.d)(i,"subscribe",a,"post",{});case 6:if(l=e.sent,n("subscribe"),200!==(null===l||void 0===l?void 0:l.httpStatus)){e.next=17;break}return h(!1),f({message:"",title:l.message,icon:"success"}),e.next=13,y();case 13:(r=e.sent)?g((0,o.j)(r||void 0)).then((function(){return k({phone:(null===r||void 0===r?void 0:r.msisdn)||"",email_transactional:!0,sms_transactional:!0}).then((function(){var e,t;return w({email:r.email,phone:(null===r||void 0===r?void 0:r.msisdn)||""},Number(null===(e=m)||void 0===m||null===(t=e.env)||void 0===t?void 0:"15603")||15603)}))})):j({email:a.email,phone:""}).then((function(){return k({email_transactional:!0,sms_transactional:!0}).then((function(){var e,t;return w({email:a.email,phone:""},Number(null===(e=m)||void 0===m||null===(t=e.env)||void 0===t?void 0:"15603")||15603)}))})),e.next=19;break;case 17:h(!1),f({message:null!==(c=null===l||void 0===l?void 0:l.message)&&void 0!==c?c:"Hata",title:"Hata",icon:"error"});case 19:l&&x(l);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{getDashboardPage:(0,r.useCallback)(C,[]),getWebDashboard:(0,r.useCallback)(N,[]),postBannersSubscription:(0,r.useCallback)(S,[])}}}}]);